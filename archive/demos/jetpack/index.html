<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
	"http://www.w3.org/TR/html4/strict.dtd">

<html>

	<head>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<title>Raptor.Jetpack Test Center</title>
	</head>
	
	<body>

		<div id="content">
			
		</div>
		
		<script type="text/javascript" src="/src/raptor.js"></script>
		<!--
		<script type="text/javascript" src="/src/raptor.evolve.js"></script>
		<script type="text/javascript" src="/src/raptor.jetpack.js"></script>
		-->
		<script type="text/javascript">
			
			raptor.ready(function () {
				console.log('ready');
								
				var dependencies = ['jetpack'];
			
				var jetpackGo = function () {					
					var config = {
					    'uri' : 'test.html',
					    'errorHandler' : function () { },
					    'success' : function(response) { },
					    'throbber' : function() {  },
					    'data' : {
					    	'myVar' : 'some-data',
					    	'otherVar' : 'moreData',
					    	'int' : 0
					    },
					    'parse' : null
					};
			
					var endpoints = new Array('endpoints/htmlEndpoint.html', 'endpoints/xmlEndpoint2.xml');
						
					for(var i=0; i<5; i++) {
						var _thisConfig = {};
				
						for(var name in config) {
							_thisConfig[name] = config[name];										
						}									
			
						if(endpoints[i]) {
							_thisConfig.uri = endpoints[i];
						}
						else {
							_thisConfig.uri = 'test-' + i + '.html';					
						}
				
						if(i === 0) {
							_thisConfig.method = 'POST';
						}
						else {
							_thisConfig.method = 'GET';
						}
				
						if(i === 1)  {					
							_thisConfig.parse = 'json';
						}				
										
					    raptor.jetpack.engage(_thisConfig);
					}
				}
				
				raptor.require(dependencies,{'callback':jetpackGo});
			});
			
		</script>
		
	</body>

</html>	